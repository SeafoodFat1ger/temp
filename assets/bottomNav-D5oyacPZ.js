import{u as w}from"./index-BHh1TLVf.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as I,u as V,t as B,n as x,m as j,g as N,B as R,w as k,e as E,a as F,b as M,I as z,i as D}from"./index-D5UzUt9W.js";import{d as $,i as K,c as r,j as Y,k as Z,m as q,a as G,w as b,F as H,o as J,h as _,l as L}from"./index-BXgsGGBr.js";import{c as Q}from"./interceptor-B_IeSHt0.js";import{r as U,u as W}from"./use-route-Cqe9Mgvt.js";const[y,C]=I("tabbar"),X={route:Boolean,fixed:B,border:B,zIndex:x,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:j(0),safeAreaInsetBottom:{type:Boolean,default:null}},A=Symbol(y);var ee=$({name:y,props:X,emits:["change","update:modelValue"],setup(e,{emit:a,slots:s}){const d=K(),{linkChildren:m}=V(A),i=w(d,C),l=()=>{var n;return(n=e.safeAreaInsetBottom)!=null?n:e.fixed},t=()=>{var n;const{fixed:o,zIndex:c,border:f}=e;return r("div",{ref:d,role:"tablist",style:N(c),class:[C({fixed:o}),{[R]:f,"van-safe-area-bottom":l()}]},[(n=s.default)==null?void 0:n.call(s)])};return m({props:e,setActive:(n,o)=>{Q(e.beforeChange,{args:[n],done(){a("update:modelValue",n),a("change",n),o()}})}}),()=>e.fixed&&e.placeholder?i(t):t()}});const te=k(ee),[ae,g]=I("tabbar-item"),ne=E({},U,{dot:Boolean,icon:String,name:x,badge:x,badgeProps:Object,iconPrefix:String});var oe=$({name:ae,props:ne,emits:["click"],setup(e,{emit:a,slots:s}){const d=W(),m=Y().proxy,{parent:i,index:l}=F(A);if(!i)return;const t=Z(()=>{var o;const{route:c,modelValue:f}=i.props;if(c&&"$route"in m){const{$route:h}=m,{to:v}=e,u=D(v)?v:{path:v};return!!h.matched.find(P=>{const T="path"in u&&u.path===P.path,S="name"in u&&u.name===P.name;return T||S})}return((o=e.name)!=null?o:l.value)===f}),p=o=>{var c;t.value||i.setActive((c=e.name)!=null?c:l.value,d),a("click",o)},n=()=>{if(s.icon)return s.icon({active:t.value});if(e.icon)return r(z,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var o;const{dot:c,badge:f}=e,{activeColor:h,inactiveColor:v}=i.props,u=t.value?h:v;return r("div",{role:"tab",class:g({active:t.value}),style:{color:u},tabindex:0,"aria-selected":t.value,onClick:p},[r(M,q({dot:c,class:g("icon"),content:f},e.badgeProps),{default:n}),r("div",{class:g("text")},[(o=s.default)==null?void 0:o.call(s,{active:t.value})])])}}});const re=k(oe),se={setup(){return{icon:{active:"https://fastly.jsdelivr.net/npm/@vant/assets/user-active.png",inactive:"https://fastly.jsdelivr.net/npm/@vant/assets/user-inactive.png"}}}};function ce(e,a,s,d,m,i){const l=L("router-view"),t=re,p=te;return J(),G(H,null,[r(l),r(p,{route:""},{default:b(()=>[r(t,{replace:"",to:"/home/act",icon:"home-o"},{default:b(()=>a[0]||(a[0]=[_("讲座活动")])),_:1}),r(t,{replace:"",to:"/home/search",icon:"search"},{default:b(()=>a[1]||(a[1]=[_("图书检索")])),_:1}),r(t,{replace:"",to:"/home/seat",icon:"setting-o"},{default:b(()=>a[2]||(a[2]=[_("座位预约")])),_:1}),r(t,{replace:"",to:"/home/profile",icon:"friends-o"},{default:b(()=>a[3]||(a[3]=[_("个人中心")])),_:1})]),_:1})],64)}const ve=O(se,[["render",ce]]);export{ve as default};
