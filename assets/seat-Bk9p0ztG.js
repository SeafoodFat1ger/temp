import"./index-BHh1TLVf.js";/* empty css              *//* empty css              */import{I as M}from"./index-BUuLlNgP.js";import{N as R}from"./index-B-44DXlN.js";import{d as E,k as G,c as w,i as h,u as H,A as L,a as u,b as s,F as b,q as S,w as I,s as c,f as T,o as a,e as B,h as F,g as P}from"./index-BXgsGGBr.js";import{s as O}from"./select-seat-CFz2dJni.js";import{p as k,P as U,s as W}from"./index-BAswO634.js";import{_ as Y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as $,a as q,l as A,m as K,n as j,e as J,w as Q}from"./index-D5UzUt9W.js";import{B as X}from"./index-BomqLrIU.js";import"./interceptor-B_IeSHt0.js";import"./use-route-Cqe9Mgvt.js";const[Z,F2]=$("row"),e2=Symbol(Z),[s2,t2]=$("col"),o2={tag:A("div"),span:K(0),offset:j};var n2=E({name:s2,props:o2,setup(D,{slots:_}){const{parent:r,index:l}=q(e2),v=G(()=>{if(!r)return;const{spaces:n,verticalSpaces:p}=r;let d={};if(n&&n.value&&n.value[l.value]){const{left:m,right:g}=n.value[l.value];d={paddingLeft:m?`${m}px`:null,paddingRight:g?`${g}px`:null}}const{bottom:i}=p.value[l.value]||{};return J(d,{marginBottom:i?`${i}px`:null})});return()=>{const{tag:n,span:p,offset:d}=D;return w(n,{style:v.value,class:t2({[p]:p,[`offset-${d}`]:d})},{default:()=>{var i;return[(i=_.default)==null?void 0:i.call(_)]}})}}});const a2=Q(n2),r2="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M512%20978.488889c-250.311111%200-455.111111-204.8-455.111111-460.8S261.688889%2056.888889%20512%2056.888889s455.111111%20204.8%20455.111111%20460.8-204.8%20460.8-455.111111%20460.8zM512%20113.777778C295.822222%20113.777778%20113.777778%20295.822222%20113.777778%20517.688889c0%20221.866667%20176.355556%20403.911111%20398.222222%20403.911111%20216.177778%200%20398.222222-182.044444%20398.222222-403.911111C910.222222%20295.822222%20728.177778%20113.777778%20512%20113.777778z%20m210.488889%20472.177778H460.8c-17.066667%200-28.444444-11.377778-28.444444-28.444445v-284.444444c0-17.066667%2011.377778-28.444444%2028.444444-28.444445s28.444444%2011.377778%2028.444444%2028.444445v256h233.244445c17.066667%200%2028.444444%2011.377778%2028.444444%2028.444444s-11.377778%2028.444444-28.444444%2028.444445z'%20fill='%23999999'%20/%3e%3c/svg%3e",i2="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20class='icon'%20width='200px'%20height='200.00px'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M509.29%20928.29c-109.8%200-217.21-44.57-294.72-122.34-78.82-78.78-122.28-183.63-122.28-295.18%200-230.23%20187.27-417.56%20417.5-417.58%20230.27%200%20417.58%20187.29%20417.58%20417.52%200%20230.21-187.27%20417.54-417.46%20417.58h-0.62z%20m0.5-775.92c-197.6%200.02-358.33%20160.81-358.33%20358.4%200%2095.74%2037.29%20185.71%20104.98%20253.38%2066.53%2066.73%20158.65%20104.96%20252.84%20104.96H509.86c197.6-0.02%20358.33-160.81%20358.33-358.4s-160.76-358.34-358.4-358.34z'%20fill='%23999999'%20/%3e%3cpath%20d='M507.33%20614.47c-16.33%200-29.59-13.25-29.59-29.59v-71.85c0-16.33%2013.25-29.59%2029.59-29.59%2043.11%200%2078.21-35.08%2078.21-78.19s-35.1-78.19-78.21-78.19-78.21%2035.08-78.21%2078.19c0%2016.33-13.25%2029.59-29.59%2029.59s-29.59-13.25-29.59-29.59c0-75.74%2061.64-137.36%20137.38-137.36S644.7%20329.51%20644.7%20405.25c0%2065.59-46.23%20120.58-107.79%20134.15v45.48c0%2016.33-13.25%2029.59-29.58%2029.59zM509.87%20658.73c-26.74%200-48.47%2021.73-48.47%2048.43%200%2026.72%2021.73%2048.45%2048.47%2048.45%2026.7%200%2048.43-21.73%2048.43-48.45%200-26.7-21.73-48.43-48.43-48.43z'%20fill='%23999999'%20/%3e%3c/svg%3e",c2=`
  <h1>北航图书馆座位预约管理规定</h1>
  
  <h2>第一章 总则</h2>
  <p><strong>目的：</strong>本规定旨在规范图书馆座位预约管理，提升资源利用效率，为读者提供优质服务。</p>
  <p><strong>适用范围：</strong>本规定适用于所有使用图书馆座位预约系统的用户。</p>
  
  <h2>第二章 预约时间</h2>
  <p><strong>预约时段：</strong>座位预约时间为每日8:00至22:00，每个时间段为2小时（即8:00-10:00、10:00-12:00等）。</p>
  <p><strong>预约提前期：</strong>用户可提前不超过7天进行座位预约。</p>
  
  <h2>第三章 座位状态</h2>
  <p><strong>座位分类：</strong></p>
  <ul>
    <li>空闲座位：可预约座位。</li>
    <li>已预约座位：当前时间段已被预约，不可再预约。</li>
    <li>维护中座位：不可预约，显示为维护状态。</li>
  </ul>
  <p><strong>状态显示：</strong>系统通过颜色标识座位状态：</p>
  <ul>
    <li>空闲：绿色</li>
    <li>已预约：红色</li>
    <li>维护中：灰色</li>
  </ul>

  
  <h2>第四章 违规处理</h2>
  <p><strong>违规行为：</strong>用户若未按预约时间到达或频繁取消预约，将受到相应的处罚（如限制预约功能）。</p>
  <p><strong>申诉渠道：</strong>用户可通过图书馆客服渠道对处罚决定进行申诉。</p>
  
  <h2>第五章 附则</h2>
  <p><strong>解释权：</strong>本规定由图书馆管理部门负责解释，具体实施细则可根据实际情况调整。</p>
  <p><strong>生效日期：</strong>本规定自发布之日起生效。</p>
`,l2={class:"reservation-home"},p2={class:"icon-row"},d2=["innerHTML"],u2={class:"current-reservation"},v2={key:0,class:"no-reservation"},m2={key:1,class:"reservation-item"},h2={class:"reservation-header"},_2={class:"seat-id"},g2={class:"reservation-time"},f2={class:"reservation-details"},w2={class:"area-info"},x2={key:0,class:"recent-reservation"},y2={class:"reservation-header"},C2={class:"seat-id"},I2={class:"reservation-time"},k2={class:"reservation-details"},D2={class:"area-info"},b2={__name:"seat",setup(D){const _=h([{name:"预约选座",icon:O,path:"/select-seat"},{name:"预约记录",icon:r2,path:"/reservation-history"},{name:"规则说明",icon:i2,path:"/rules"}]),r=h([]),l=h([]),v=h(!1),n=h("");async function p(){k("/api/seat/order/now/",{userId:i.auth.user.userId},(t,e)=>{r.value=e.recentReservation})}function d(t){const e=new Date,[f,x]=t.ordertime[0].split("-");`${t.date}${f}`;const y=new Date(`${t.date} ${x}`);return e>y}const i=H();async function m(){k("/api/seat/order/history/sample/",{userId:i.auth.user.userId},(t,e)=>{l.value=e.reservations})}function g(t){t===0?P.push("/home/seat/select"):t===1?P.push("/home/seat/history"):t===2&&(v.value=!0,n.value=c2)}function N(t){k("/api/seat/order/cancel/",{orderId:t},(e,f)=>{W(e),p(),m()})}return L(()=>{p(),m()}),(t,e)=>{const f=R,x=M,y=a2,V=U,z=X;return a(),u("div",l2,[w(f,{title:"北航图书馆座位预约"}),s("div",p2,[(a(!0),u(b,null,S(_.value,(o,C)=>(a(),B(y,{span:"6",key:C,onClick:S2=>g(C)},{default:I(()=>[w(x,{src:o.icon,width:"40",height:"40"},null,8,["src"]),s("p",null,c(o.name),1)]),_:2},1032,["onClick"]))),128))]),w(V,{show:v.value,"onUpdate:show":e[0]||(e[0]=o=>v.value=o),closeable:"",position:"bottom"},{default:I(()=>[s("div",{class:"popup-content",innerHTML:n.value},null,8,d2)]),_:1},8,["show"]),e[2]||(e[2]=s("p",{class:"section-title"},"当前预约",-1)),s("div",u2,[r.value.length===0?(a(),u("div",v2," 暂无预约 ")):(a(),u("div",m2,[s("div",h2,[s("span",_2,"座位"+c(r.value[0].seatId),1),s("span",g2,c(r.value[0].period),1)]),s("div",f2,[s("div",w2,c(r.value[0].areaId)+"F公共区域",1)])]))]),e[3]||(e[3]=s("p",{class:"section-title"},"最近预约",-1)),l.value?(a(),u("div",x2,[(a(!0),u(b,null,S(l.value,o=>(a(),u("div",{key:o.id,class:"reservation-item"},[s("div",y2,[s("span",C2,"座位"+c(o.seatId),1),s("span",I2,c(o.date)+"/"+c(o.ordertime[0]),1)]),s("div",k2,[s("div",D2,c(o.areaId)+"F公共区域",1)]),d(o)?T("",!0):(a(),B(z,{key:0,type:"primary",size:"small",class:"rebook-btn",onClick:C=>N(o.id)},{default:I(()=>e[1]||(e[1]=[F(" 取消预约 ")])),_:2},1032,["onClick"]))]))),128))])):T("",!0)])}}},O2=Y(b2,[["__scopeId","data-v-665e90b4"]]);export{O2 as default};
