import{a as je}from"./index-BHh1TLVf.js";/* empty css              *//* empty css              */import{u as qe}from"./index-B948Pb_U.js";/* empty css              */import{N as Ke}from"./index-B-44DXlN.js";import{d as ne,i as F,k as C,c,n as se,m as Ye,u as Xe,A as Je,a as $,b as V,s as p,h as q,w as ee,F as fe,q as ve,D as Qe,o as U,y as Ze}from"./index-BXgsGGBr.js";import{u as Ce,P as Ne,b as be,p as pe,g as et}from"./index-BAswO634.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as Q,e as ie,m as ce,t as H,q as ge,l as oe,s as Oe,n as de,v as xe,I as ye,x as ue,a as nt,y as at,z as le,w as ze,A as ot,C as lt,h as De,D as it,H as _e,d as rt,E as ke,G as st,r as he}from"./index-D5UzUt9W.js";import{B as We}from"./index-BomqLrIU.js";import"./interceptor-B_IeSHt0.js";import"./use-route-Cqe9Mgvt.js";Q("picker-toolbar");const ct={title:String,cancelButtonText:String,confirmButtonText:String},Ee=ie({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:ce(44),showToolbar:H,swipeDuration:ce(1e3),visibleOptionNum:ce(6)},ct);ie({},Ee,{columns:ge(),modelValue:ge(),toolbarPosition:oe("top"),columnsFieldNames:Object});const[ut,tn]=Q("checkbox-group"),dt=Symbol(ut),Ge={name:Oe,disabled:Boolean,iconSize:de,modelValue:Oe,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var mt=ne({props:ie({},Ge,{bem:xe(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:H,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:l}){const o=F(),b=r=>{if(e.parent&&e.bindGroup)return e.parent.props[r]},m=C(()=>{if(e.parent&&e.bindGroup){const r=b("disabled")||e.disabled;if(e.role==="checkbox"){const s=b("modelValue").length,h=b("max"),S=h&&s>=+h;return r||S&&!e.checked}return r}return e.disabled}),g=C(()=>b("direction")),w=C(()=>{const r=e.checkedColor||b("checkedColor");if(r&&e.checked&&!m.value)return{borderColor:r,backgroundColor:r}}),M=C(()=>e.shape||b("shape")||"round"),f=r=>{const{target:s}=r,h=o.value,S=h===s||(h==null?void 0:h.contains(s));!m.value&&(S||!e.labelDisabled)&&t("toggle"),t("click",r)},v=()=>{var r,s;const{bem:h,checked:S,indeterminate:_}=e,k=e.iconSize||b("iconSize");return c("div",{ref:o,class:h("icon",[M.value,{disabled:m.value,checked:S,indeterminate:_}]),style:M.value!=="dot"?{fontSize:ue(k)}:{width:ue(k),height:ue(k),borderColor:(r=w.value)==null?void 0:r.borderColor}},[l.icon?l.icon({checked:S,disabled:m.value}):M.value!=="dot"?c(ye,{name:_?"minus":"success",style:w.value},null):c("div",{class:h("icon--dot__icon"),style:{backgroundColor:(s=w.value)==null?void 0:s.backgroundColor}},null)])},a=()=>{const{checked:r}=e;if(l.default)return c("span",{class:e.bem("label",[e.labelPosition,{disabled:m.value}])},[l.default({checked:r,disabled:m.value})])};return()=>{const r=e.labelPosition==="left"?[a(),v()]:[v(),a()];return c("div",{role:e.role,class:e.bem([{disabled:m.value,"label-disabled":e.labelDisabled},g.value]),tabindex:m.value?void 0:0,"aria-checked":e.checked,onClick:f},[r])}}});const[ft,vt]=Q("checkbox"),ht=ie({},Ge,{shape:String,bindGroup:H,indeterminate:{type:Boolean,default:null}});var bt=ne({name:ft,props:ht,emits:["change","update:modelValue"],setup(e,{emit:t,slots:l}){const{parent:o}=nt(dt),b=w=>{const{name:M}=e,{max:f,modelValue:v}=o.props,a=v.slice();if(w)!(f&&a.length>=+f)&&!a.includes(M)&&(a.push(M),e.bindGroup&&o.updateValue(a));else{const r=a.indexOf(M);r!==-1&&(a.splice(r,1),e.bindGroup&&o.updateValue(a))}},m=C(()=>o&&e.bindGroup?o.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),g=(w=!m.value)=>{o&&e.bindGroup?b(w):t("update:modelValue",w),e.indeterminate!==null&&t("change",w)};return se(()=>e.modelValue,w=>{e.indeterminate===null&&t("change",w)}),Ce({toggle:g,props:e,checked:m}),at(()=>e.modelValue),()=>c(mt,Ye({bem:vt,role:"checkbox",parent:o,checked:m.value,onToggle:g},e),le(l,["default","icon"]))}});const gt=ze(bt),[yt,x,L]=Q("calendar"),Dt=e=>L("monthTitle",e.getFullYear(),e.getMonth()+1);function J(e,t){const l=e.getFullYear(),o=t.getFullYear();if(l===o){const b=e.getMonth(),m=t.getMonth();return b===m?0:b>m?1:-1}return l>o?1:-1}function Y(e,t){const l=J(e,t);if(l===0){const o=e.getDate(),b=t.getDate();return o===b?0:o>b?1:-1}return l}const te=e=>new Date(e),Ie=e=>Array.isArray(e)?e.map(te):te(e);function Me(e,t){const l=te(e);return l.setDate(l.getDate()+t),l}function Pe(e,t){const l=te(e);return l.setMonth(l.getMonth()+t),l.getDate()!==e.getDate()&&l.setDate(0),l}function $e(e,t){const l=te(e);return l.setFullYear(l.getFullYear()+t),l.getDate()!==e.getDate()&&l.setDate(0),l}const we=e=>Me(e,-1),Se=e=>Me(e,1),Ae=e=>Pe(e,-1),Fe=e=>Pe(e,1),Ve=e=>$e(e,-1),He=e=>$e(e,1),re=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function kt(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}ie({},Ee,{modelValue:ge(),filter:Function,formatter:{type:Function,default:(e,t)=>t}});const wt=(e,t)=>32-new Date(e,t-1,32).getDate(),[St]=Q("calendar-day");var Ct=ne({name:St,props:{item:xe(Object),color:String,index:Number,offset:ot(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:l}){const o=C(()=>{var f;const{item:v,index:a,color:r,offset:s,rowHeight:h}=e,S={height:h};if(v.type==="placeholder")return S.width="100%",S;if(a===0&&(S.marginLeft=`${100*s/7}%`),r)switch(v.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":S.background=r;break;case"middle":S.color=r;break}return s+(((f=v.date)==null?void 0:f.getDate())||1)>28&&(S.marginBottom=0),S}),b=()=>{e.item.type!=="disabled"?t("click",e.item):t("clickDisabledDate",e.item)},m=()=>{const{topInfo:f}=e.item;if(f||l["top-info"])return c("div",{class:x("top-info")},[l["top-info"]?l["top-info"](e.item):f])},g=()=>{const{bottomInfo:f}=e.item;if(f||l["bottom-info"])return c("div",{class:x("bottom-info")},[l["bottom-info"]?l["bottom-info"](e.item):f])},w=()=>l.text?l.text(e.item):e.item.text,M=()=>{const{item:f,color:v,rowHeight:a}=e,{type:r}=f,s=[m(),w(),g()];return r==="selected"?c("div",{class:x("selected-day"),style:{width:a,height:a,background:v}},[s]):s};return()=>{const{type:f,className:v}=e.item;return f==="placeholder"?c("div",{class:x("day"),style:o.value},null):c("div",{role:"gridcell",style:o.value,class:[x("day",f),v],tabindex:f==="disabled"?void 0:-1,onClick:b},[M()])}}});const[xt]=Q("calendar-month"),Mt={date:xe(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:de,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var Pt=ne({name:xt,props:Mt,emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:l}){const[o,b]=lt(),m=F(),g=F(),w=je(g),M=C(()=>Dt(e.date)),f=C(()=>ue(e.rowHeight)),v=C(()=>{const u=e.date.getDate(),y=(e.date.getDay()-u%7+8)%7;return e.firstDayOfWeek?(y+7-e.firstDayOfWeek)%7:y}),a=C(()=>wt(e.date.getFullYear(),e.date.getMonth()+1)),r=C(()=>o.value||!e.lazyRender),s=()=>M.value,h=u=>{const P=y=>e.currentDate.some(T=>Y(T,y)===0);if(P(u)){const y=we(u),T=Se(u),I=P(y),E=P(T);return I&&E?"multiple-middle":I?"end":E?"start":"multiple-selected"}return""},S=u=>{const[P,y]=e.currentDate;if(!P)return"";const T=Y(u,P);if(!y)return T===0?"start":"";const I=Y(u,y);return e.allowSameDay&&T===0&&I===0?"start-end":T===0?"start":I===0?"end":T>0&&I<0?"middle":""},_=u=>{const{type:P,minDate:y,maxDate:T,currentDate:I}=e;if(y&&Y(u,y)<0||T&&Y(u,T)>0)return"disabled";if(I===null)return"";if(Array.isArray(I)){if(P==="multiple")return h(u);if(P==="range")return S(u)}else if(P==="single")return Y(u,I)===0?"selected":"";return""},k=u=>{if(e.type==="range"){if(u==="start"||u==="end")return L(u);if(u==="start-end")return`${L("start")}/${L("end")}`}},O=()=>{if(e.showMonthTitle)return c("div",{class:x("month-title")},[l["month-title"]?l["month-title"]({date:e.date,text:M.value}):M.value])},z=()=>{if(e.showMark&&r.value)return c("div",{class:x("month-mark")},[e.date.getMonth()+1])},W=C(()=>{const u=Math.ceil((a.value+v.value)/7);return Array(u).fill({type:"placeholder"})}),K=C(()=>{const u=[],P=e.date.getFullYear(),y=e.date.getMonth();for(let T=1;T<=a.value;T++){const I=new Date(P,y,T),E=_(I);let ae={date:I,type:E,text:T,bottomInfo:k(E)};e.formatter&&(ae=e.formatter(ae)),u.push(ae)}return u}),Z=C(()=>K.value.filter(u=>u.type==="disabled")),X=(u,P)=>{if(m.value){const y=De(m.value),T=W.value.length,E=(Math.ceil((P.getDate()+v.value)/7)-1)*y.height/T;it(u,y.top+E+u.scrollTop-De(u).top)}},j=(u,P)=>c(Ct,{item:u,index:P,color:e.color,offset:v.value,rowHeight:f.value,onClick:y=>t("click",y),onClickDisabledDate:y=>t("clickDisabledDate",y)},le(l,["top-info","bottom-info","text"])),me=()=>c("div",{ref:m,role:"grid",class:x("days")},[z(),(r.value?K:W).value.map(j)]);return Ce({getTitle:s,getHeight:()=>w.value,setVisible:b,scrollToDate:X,disabledDays:Z}),()=>c("div",{class:x("month"),ref:g},[O(),me()])}});const[Tt]=Q("calendar-header");var Bt=ne({name:Tt,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:oe("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:l}){const o=C(()=>e.date&&e.minDate&&J(Ae(e.date),e.minDate)<0),b=C(()=>e.date&&e.minDate&&J(Ve(e.date),e.minDate)<0),m=C(()=>e.date&&e.maxDate&&J(Fe(e.date),e.maxDate)>0),g=C(()=>e.date&&e.maxDate&&J(He(e.date),e.maxDate)>0),w=()=>{if(e.showTitle){const s=e.title||L("title"),h=t.title?t.title():s;return c("div",{class:x("header-title")},[h])}},M=s=>l("clickSubtitle",s),f=s=>l("panelChange",s),v=s=>{const h=e.switchMode==="year-month",S=t[s?"next-month":"prev-month"],_=t[s?"next-year":"prev-year"],k=s?m.value:o.value,O=s?g.value:b.value,z=s?"arrow":"arrow-left",W=s?"arrow-double-right":"arrow-double-left",K=()=>f((s?Fe:Ae)(e.date)),Z=()=>f((s?He:Ve)(e.date)),X=c("view",{class:x("header-action",{disabled:k}),onClick:k?void 0:K},[S?S({disabled:k}):c(ye,{class:{[_e]:!k},name:z},null)]),j=h&&c("view",{class:x("header-action",{disabled:O}),onClick:O?void 0:Z},[_?_({disabled:O}):c(ye,{class:{[_e]:!O},name:W},null)]);return s?[X,j]:[j,X]},a=()=>{if(e.showSubtitle){const s=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,h=e.switchMode!=="none";return c("div",{class:x("header-subtitle",{"with-swicth":h}),onClick:M},[h?[v(),c("div",{class:x("header-subtitle-text")},[s]),v(!0)]:s])}},r=()=>{const{firstDayOfWeek:s}=e,h=L("weekdays"),S=[...h.slice(s,7),...h.slice(0,s)];return c("div",{class:x("weekdays")},[S.map(_=>c("span",{class:x("weekday")},[_]))])};return()=>c("div",{class:x("header")},[w(),a(),r()])}});const Rt={show:Boolean,type:oe("single"),switchMode:oe("none"),title:String,color:String,round:H,readonly:Boolean,poppable:H,maxRange:ce(null),position:oe("bottom"),teleport:[String,Object],showMark:H,showTitle:H,formatter:Function,rowHeight:de,confirmText:String,rangePrompt:String,lazyRender:H,showConfirm:H,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:H,closeOnPopstate:H,showRangePrompt:H,confirmDisabledText:String,closeOnClickOverlay:H,safeAreaInsetTop:Boolean,safeAreaInsetBottom:H,minDate:{type:Date,validator:ke},maxDate:{type:Date,validator:ke},firstDayOfWeek:{type:de,default:0,validator:e=>e>=0&&e<=6}};var Ot=ne({name:yt,props:Rt,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","panelChange"],setup(e,{emit:t,slots:l}){const o=C(()=>e.switchMode!=="none"),b=C(()=>!e.minDate&&!o.value?re():e.minDate),m=C(()=>!e.maxDate&&!o.value?Pe(re(),6):e.maxDate),g=(n,i=b.value,D=m.value)=>i&&Y(n,i)===-1?i:D&&Y(n,D)===1?D:n,w=(n=e.defaultDate)=>{const{type:i,allowSameDay:D}=e;if(n===null)return n;const d=re();if(i==="range"){Array.isArray(n)||(n=[]),n.length===1&&Y(n[0],d)===1&&(n=[]);const B=b.value,A=m.value,G=g(n[0]||d,B,A?D?A:we(A):void 0),R=g(n[1]||(D?d:Se(d)),B?D?B:Se(B):void 0);return[G,R]}return i==="multiple"?Array.isArray(n)?n.map(B=>g(B)):[g(d)]:((!n||Array.isArray(n))&&(n=d),g(n))},M=()=>{const n=Array.isArray(a.value)?a.value[0]:a.value;return n||g(re())};let f;const v=F(),a=F(w()),r=F(M()),s=F(),[h,S]=qe(),_=C(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),k=C(()=>{const n=[];if(!b.value||!m.value)return n;const i=new Date(b.value);i.setDate(1);do n.push(new Date(i)),i.setMonth(i.getMonth()+1);while(J(i,m.value)!==1);return n}),O=C(()=>{if(a.value){if(e.type==="range")return!a.value[0]||!a.value[1];if(e.type==="multiple")return!a.value.length}return!a.value}),z=()=>a.value,W=()=>{const n=st(v.value),i=n+f,D=k.value.map((R,N)=>h.value[N].getHeight()),d=D.reduce((R,N)=>R+N,0);if(i>d&&n>0)return;let B=0,A;const G=[-1,-1];for(let R=0;R<k.value.length;R++){const N=h.value[R];B<=i&&B+D[R]>=n&&(G[1]=R,A||(A=N,G[0]=R),h.value[R].showed||(h.value[R].showed=!0,t("monthShow",{date:N.date,title:N.getTitle()}))),B+=D[R]}k.value.forEach((R,N)=>{const Re=N>=G[0]-1&&N<=G[1]+1;h.value[N].setVisible(Re)}),A&&(s.value=A)},K=n=>{o.value?r.value=n:he(()=>{k.value.some((i,D)=>J(i,n)===0?(v.value&&h.value[D].scrollToDate(v.value,n),!0):!1),W()})},Z=()=>{if(!(e.poppable&&!e.show))if(a.value){const n=e.type==="single"?a.value:a.value[0];ke(n)&&K(n)}else o.value||he(W)},X=()=>{e.poppable&&!e.show||(o.value||he(()=>{f=Math.floor(De(v).height)}),Z())},j=(n=w())=>{a.value=n,Z()},me=n=>{const{maxRange:i,rangePrompt:D,showRangePrompt:d}=e;return i&&kt(n)>+i?(d&&be(D||L("rangePrompt",i)),t("overRange"),!1):!0},u=n=>{r.value=n,t("panelChange",{date:n})},P=()=>{var n;return t("confirm",(n=a.value)!=null?n:Ie(a.value))},y=(n,i)=>{const D=d=>{a.value=d,t("select",Ie(d))};if(i&&e.type==="range"&&!me(n)){D([n[0],Me(n[0],+e.maxRange-1)]);return}D(n),i&&!e.showConfirm&&P()},T=(n,i,D)=>{var d;return(d=n.find(B=>Y(i,B.date)===-1&&Y(B.date,D)===-1))==null?void 0:d.date},I=C(()=>h.value.reduce((n,i)=>{var D,d;return n.push(...(d=(D=i.disabledDays)==null?void 0:D.value)!=null?d:[]),n},[])),E=n=>{if(e.readonly||!n.date)return;const{date:i}=n,{type:D}=e;if(D==="range"){if(!a.value){y([i]);return}const[d,B]=a.value;if(d&&!B){const A=Y(i,d);if(A===1){const G=T(I.value,d,i);if(G){const R=we(G);Y(d,R)===-1?y([d,R]):y([i])}else y([d,i],!0)}else A===-1?y([i]):e.allowSameDay&&y([i,i],!0)}else y([i])}else if(D==="multiple"){if(!a.value){y([i]);return}const d=a.value,B=d.findIndex(A=>Y(A,i)===0);if(B!==-1){const[A]=d.splice(B,1);t("unselect",te(A))}else e.maxRange&&d.length>=+e.maxRange?be(e.rangePrompt||L("rangePrompt",e.maxRange)):y([...d,i])}else y(i,!0)},ae=n=>t("update:show",n),Te=(n,i)=>{const D=i!==0||!e.showSubtitle;return c(Pt,Ye({ref:o.value?s:S(i),date:n,currentDate:a.value,showMonthTitle:D,firstDayOfWeek:_.value,lazyRender:o.value?!1:e.lazyRender,maxDate:m.value,minDate:b.value},le(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:E,onClickDisabledDate:d=>t("clickDisabledDate",d)}),le(l,["top-info","bottom-info","month-title","text"]))},Ue=()=>{if(l.footer)return l.footer();if(e.showConfirm){const n=l["confirm-text"],i=O.value,D=i?e.confirmDisabledText:e.confirmText;return c(We,{round:!0,block:!0,type:"primary",color:e.color,class:x("confirm"),disabled:i,nativeType:"button",onClick:P},{default:()=>[n?n({disabled:i}):D||L("confirm")]})}},Le=()=>c("div",{class:[x("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[Ue()]),Be=()=>{var n,i;return c("div",{class:x()},[c(Bt,{date:(n=s.value)==null?void 0:n.date,maxDate:m.value,minDate:b.value,title:e.title,subtitle:(i=s.value)==null?void 0:i.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:_.value,onClickSubtitle:D=>t("clickSubtitle",D),onPanelChange:u},le(l,["title","subtitle","prev-month","prev-year","next-month","next-year"])),c("div",{ref:v,class:x("body"),onScroll:o.value?void 0:W},[o.value?Te(r.value,0):k.value.map(Te)]),Le()])};return se(()=>e.show,X),se(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>j(w(a.value))),se(()=>e.defaultDate,n=>{j(n)}),Ce({reset:j,scrollToDate:K,getSelectedDate:z}),rt(X),()=>e.poppable?c(Ne,{show:e.show,class:x("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,"onUpdate:show":ae},{default:Be}):Be()}});const _t=ze(Ot),It={setup(){const e=Xe(),t=F(0),l=Qe(),o=F(["08:00-10:00","10:00-12:00","12:00-14:00","14:00-16:00","16:00-18:00","18:00-20:00","20:00-22:00"]),b=F(Array.from({length:30},(k,O)=>({id:O+1,statuses:[{time:"08:00-10:00",type:"available"},{time:"10:00-12:00",type:"unavailable"},{time:"12:00-14:00",type:"booked"},{time:"14:00-16:00",type:"available"},{time:"16:00-18:00",type:"available"},{time:"18:00-20:00",type:"available"},{time:"20:00-22:00",type:"available"}]}))),m=F(!1),g=F(null),w=F(!1);function M(){window.history.back()}const f=k=>`${k.getFullYear()}-${k.getMonth()+1}-${k.getDate()}`,v=F(f(new Date)),a=F(!1),r=k=>{a.value=!1,v.value=f(k),_(t.value,v.value)};function s(k,O){g.value={seatId:k,timeSlot:O}}function h(){pe("/api/seat/order/add/",{userId:e.auth.user.userId,seatId:g.value.seatId,date:v.value,areaId:t.value,ordertime:[g.value.timeSlot]},k=>{be("预约成功"),_(t.value,v.value)}),g.value=null,w.value=!1}function S(k,O,z){return{"cell-available":z==="available"&&(g.value===null||g.value.timeSlot!==O||g.value.seatId!==k),"cell-booked":z==="booked","cell-unavailable":z==="unavailable","cell-selected":g.value!==null&&g.value.seatId===k&&g.value.timeSlot===O}}async function _(k=0,O){et(`/api/seat/getStatus/${k}/${O}/`,(z,W)=>{b.value=W.seats})}return Je(()=>{t.value=l.params.areaId,_(t.value,f(new Date))}),{areaId:t,date:v,show:a,timeSlots:o,seats:b,hasRead:m,selectedSeat:g,selectSeat:s,confirmBooking:h,statusClass:S,goBack:M,showPopup:w,onConfirm:r}}},At={class:"reservation-page"},Ft={class:"status-indicators"},Vt={class:"schedule-table"},Ht=["onClick"],Yt={key:0},Nt={key:1},zt={class:"footer"},Wt={class:"popup-content"};function Et(e,t,l,o,b,m){const g=Ke,w=We,M=_t,f=gt,v=Ne;return U(),$("div",At,[c(g,{title:"预约座位","left-arrow":"",onClickLeft:o.goBack},null,8,["onClickLeft"]),V("h2",null,p(o.areaId)+"F公共区域",1),V("div",Ft,[t[6]||(t[6]=V("span",{class:"color-box available"},null,-1)),t[7]||(t[7]=q("空闲 ")),t[8]||(t[8]=V("span",{class:"color-box booked"},null,-1)),t[9]||(t[9]=q("已预约 ")),t[10]||(t[10]=V("span",{class:"color-box unavailable"},null,-1)),t[11]||(t[11]=q("不开放 ")),c(w,{onClick:t[0]||(t[0]=a=>o.show=!0)},{default:ee(()=>[q(p(o.date),1)]),_:1}),c(M,{show:o.show,"onUpdate:show":t[1]||(t[1]=a=>o.show=a),onConfirm:o.onConfirm},null,8,["show","onConfirm"])]),V("table",Vt,[V("thead",null,[V("tr",null,[t[12]||(t[12]=V("th",null,"座位/时间",-1)),(U(!0),$(fe,null,ve(o.timeSlots,a=>(U(),$("th",{key:a},p(a),1))),128))])]),V("tbody",null,[(U(!0),$(fe,null,ve(o.seats,a=>(U(),$("tr",{key:a.id},[V("td",null,p("座位"+a.id),1),(U(!0),$(fe,null,ve(a.statuses,r=>(U(),$("td",{key:r.time,class:Ze(o.statusClass(a.id,r.time,r.type)),onClick:s=>r.type==="available"?o.selectSeat(a.id,r.time):null},[r.type==="available"?(U(),$("span",Yt,p(r.type),1)):(U(),$("span",Nt,p(r.type),1))],10,Ht))),128))]))),128))])]),V("div",zt,[c(f,{modelValue:o.hasRead,"onUpdate:modelValue":t[2]||(t[2]=a=>o.hasRead=a)},{default:ee(()=>t[13]||(t[13]=[q("已阅读并同意")])),_:1},8,["modelValue"]),c(w,{disabled:!o.hasRead||!o.selectedSeat,type:"primary",onClick:t[3]||(t[3]=a=>o.showPopup=!0)},{default:ee(()=>t[14]||(t[14]=[q("预约")])),_:1},8,["disabled"])]),c(v,{show:o.showPopup,"onUpdate:show":t[5]||(t[5]=a=>o.showPopup=a),position:"bottom",style:{height:"200px"}},{default:ee(()=>[V("div",Wt,[t[17]||(t[17]=V("p",null,"您确认预约该座位吗？",-1)),c(w,{type:"primary",onClick:o.confirmBooking},{default:ee(()=>t[15]||(t[15]=[q("确认")])),_:1},8,["onClick"]),c(w,{onClick:t[4]||(t[4]=a=>o.showPopup=!1)},{default:ee(()=>t[16]||(t[16]=[q("取消")])),_:1})])]),_:1},8,["show"])])}const nn=tt(It,[["render",Et],["__scopeId","data-v-0a3cd5c2"]]);export{nn as default};
